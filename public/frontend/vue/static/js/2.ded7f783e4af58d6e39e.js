webpackJsonp([2],{"1ylw":function(t,e,r){"use strict";var i=r("NYxO"),a=r("lHQJ"),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t};e.a={name:"RwvArticleActions",props:{article:{type:Object,required:!0},canModify:{type:Boolean,required:!0}},computed:n({},r.i(i.a)(["profile","isAuthenticated"])),methods:{toggleFavorite:function(t){if(!this.isAuthenticated)return void this.$router.push({name:"login"});var e=this.article.favorited?a.j:a.i;this.$store.dispatch(e,t)},toggleFollow:function(t){if(!this.isAuthenticated)return void this.$router.push({name:"login"});var e=t?a.d:a.c;this.$store.dispatch(e,{username:this.profile.username})},editArticle:function(t,e){this.$router.push({name:"article-edit",params:{slug:t,previousArticle:e}})},deleteArticle:function(t){var e=this;this.$store.dispatch(a.l,t).then(function(t){e.$router.push("/")})}}}},"5Lsc":function(t,e,r){"use strict";r.d(e,"a",function(){return i}),r.d(e,"b",function(){return a});var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"article-meta"},[r("router-link",{attrs:{to:{name:"profile",params:{username:t.article.author.username}}}},[r("img",{attrs:{src:t.article.author.image}})]),t._v(" "),r("div",{staticClass:"info"},[r("router-link",{staticClass:"author",attrs:{to:{name:"profile",params:{username:t.article.author.username}}}},[t._v("\n      "+t._s(t.article.author.username)+"\n    ")]),t._v(" "),r("span",{staticClass:"date"},[t._v(t._s(t._f("date")(t.article.createdAt)))])],1),t._v(" "),t.actions?[r("rwv-article-actions",{attrs:{article:t.article,canModify:t.isCurrentUser()}})]:[t.actions?t._e():r("button",{staticClass:"btn btn-sm pull-xs-right",class:{"btn-primary":t.article.favorited,"btn-outline-primary":!t.article.favorited},on:{click:t.toggleFavorite}},[r("i",{staticClass:"ion-heart"}),t._v(" "),r("span",{staticClass:"counter"},[t._v("\n        "+t._s(t.article.favoritesCount)+"\n      ")])])]],2)},a=[]},"8PQg":function(t,e,r){"use strict";e.a={name:"RwvTag",props:{name:{type:String,required:!0},className:{type:String,default:"tag-pill tag-default"}}}},FJIB:function(t,e,r){"use strict";var i=r("Igjo"),a=r("y1eh"),n=r("XyMi"),s=r.i(n.a)(i.a,a.a,a.b,!1,null,null,null);e.a=s.exports},"G+N0":function(t,e,r){"use strict";var i=r("8PQg"),a=r("P/A7"),n=r("XyMi"),s=r.i(n.a)(i.a,a.a,a.b,!1,null,null,null);e.a=s.exports},Igjo:function(t,e,r){"use strict";e.a={name:"Pagination",props:{pages:{type:Array,required:!0},currentPage:{type:Number,required:!0}},methods:{changePage:function(t){t!==this.currentPage&&this.$emit("update:currentPage",t)},paginationClass:function(t){return{"page-item":!0,active:this.currentPage===t}}}}},Mffc:function(t,e,r){"use strict";r.d(e,"a",function(){return i}),r.d(e,"b",function(){return a});var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"profile-page"},[r("RwvArticleList",{attrs:{author:t.author,"items-per-page":5}})],1)},a=[]},MpyW:function(t,e,r){"use strict";var i=r("NYxO"),a=r("VVCd"),n=r("lHQJ"),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t};e.a={name:"RwvArticleMeta",components:{RwvArticleActions:a.a},props:{article:{type:Object,required:!0},actions:{type:Boolean,required:!1,default:!1}},computed:s({},r.i(i.a)(["currentUser","isAuthenticated"])),methods:{isCurrentUser:function(){return!(!this.currentUser.username||!this.article.author.username)&&this.currentUser.username===this.article.author.username},toggleFavorite:function(){if(!this.isAuthenticated)return void this.$router.push({name:"login"});var t=this.article.favorited?n.j:n.i;this.$store.dispatch(t,this.article.slug)}}}},"P/A7":function(t,e,r){"use strict";r.d(e,"a",function(){return i}),r.d(e,"b",function(){return a});var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("router-link",{class:t.className,attrs:{to:{name:"home-tag",params:{tag:t.name}}}},[t._v("\n  "+t._s(t.name)+"\n")])},a=[]},"RP/a":function(t,e,r){"use strict";r.d(e,"a",function(){return i}),r.d(e,"b",function(){return a});var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.canModify?r("span",[r("router-link",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{to:{name:"article-edit",params:{slug:this.article.slug}}}},[r("i",{staticClass:"ion-edit"}),t._v(" Edit Article\n  ")]),t._v("\n    \n  "),r("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:function(e){t.deleteArticle(t.article.slug)}}},[r("i",{staticClass:"ion-trash-a"}),t._v(" Delete Article\n  ")])],1):r("span",[r("button",{staticClass:"btn btn-sm btn-outline-secondary",on:{click:function(e){t.toggleFollow(t.profile.following)}}},[r("i",{staticClass:"ion-plus-round"}),t._v("\n     \n    "+t._s(t.profile.following?"Unfollow":"Follow")+" "+t._s(t.article.author.username)+"\n  ")]),t._v("\n    \n  "),r("button",{staticClass:"btn btn-sm",class:{"btn-primary":t.article.favorited,"btn-outline-primary":!t.article.favorited},on:{click:function(e){t.toggleFavorite(t.article.slug)}}},[r("i",{staticClass:"ion-heart"}),t._v(" \n    "+t._s(t.article.favorited?"Unfavorite Article":"Favorite Article")+"\n    "),r("span",{staticClass:"counter"},[t._v("\n      ("+t._s(t.article.favoritesCount)+")\n    ")])])])},a=[]},S0Kt:function(t,e,r){"use strict";var i=r("uc7E"),a=r("Sr+2"),n=r("XyMi"),s=r.i(n.a)(i.a,a.a,a.b,!1,null,null,null);e.a=s.exports},"Sr+2":function(t,e,r){"use strict";r.d(e,"a",function(){return i}),r.d(e,"b",function(){return a});var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"article-preview"},[r("rwv-article-meta",{attrs:{article:t.article,isPreview:!0}}),t._v(" "),r("router-link",{staticClass:"preview-link",attrs:{to:{name:"article",params:{slug:t.article.slug}}}},[r("h1",[t._v(t._s(t.article.title))]),t._v(" "),r("p",[t._v(t._s(t.article.description))]),t._v(" "),r("span",[t._v("Read more...")]),t._v(" "),r("ul",{staticClass:"tag-list"},t._l(t.article.tagList,function(e,i){return r("li",{key:e+i,staticClass:"tag-default tag-pill tag-outline"},[t._v("\n       "+t._s(e)+"\n      ")])}))])],1)},a=[]},VVCd:function(t,e,r){"use strict";var i=r("1ylw"),a=r("RP/a"),n=r("XyMi"),s=r.i(n.a)(i.a,a.a,a.b,!1,null,null,null);e.a=s.exports},WTtE:function(t,e,r){"use strict";var i=r("tND7");e.a={name:"RwvProfileArticles",components:{RwvArticleList:i.a},computed:{author:function(){return this.$route.params.username}}}},XdTI:function(t,e,r){"use strict";var i=r("MpyW"),a=r("5Lsc"),n=r("XyMi"),s=r.i(n.a)(i.a,a.a,a.b,!1,null,null,null);e.a=s.exports},bzRz:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r("WTtE"),a=r("Mffc"),n=r("XyMi"),s=r.i(n.a)(i.a,a.a,a.b,!1,null,null,null);e.default=s.exports},qfZw:function(t,e,r){"use strict";r.d(e,"a",function(){return i}),r.d(e,"b",function(){return a});var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.isLoading?r("div",{staticClass:"article-preview"},[t._v("\n    Loading articles...\n  ")]):r("div",[0===t.articles.length?r("div",{staticClass:"article-preview"},[t._v("\n      No articles are here... yet.\n    ")]):t._e(),t._v(" "),t._l(t.articles,function(t,e){return r("rwv-article-preview",{key:t.title+e,attrs:{article:t}})}),t._v(" "),r("v-pagination",{attrs:{pages:t.pages,currentPage:t.currentPage},on:{"update:currentPage":function(e){t.currentPage=e}}})],2)])},a=[]},sK4r:function(t,e,r){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var a=r("NYxO"),n=r("G+N0"),s=r("S0Kt"),c=r("FJIB"),o=r("lHQJ"),u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t};e.a={name:"rwv-article-list",components:{RwvTag:n.a,RwvArticlePreview:s.a,VPagination:c.a},props:{type:{type:String,required:!1,default:"all"},author:{type:String,required:!1},tag:{type:String,required:!1},favorited:{type:String,required:!1},itemsPerPage:{type:Number,required:!1,default:10}},data:function(){return{currentPage:1}},computed:u({listConfig:function(){var t=this.type,e={offset:(this.currentPage-1)*this.itemsPerPage,limit:this.itemsPerPage};return this.author&&(e.author=this.author),this.tag&&(e.tag=this.tag),this.favorited&&(e.favorited=this.favorited),{type:t,filters:e}},pages:function(){return this.isLoading||this.articlesCount<=this.itemsPerPage?[]:[].concat(i(Array(Math.ceil(this.articlesCount/this.itemsPerPage)).keys())).map(function(t){return t+1})}},r.i(a.a)(["articlesCount","isLoading","articles"])),watch:{currentPage:function(t){this.listConfig.filters.offset=(t-1)*this.itemsPerPage,this.fetchArticles()},type:function(){this.resetPagination(),this.fetchArticles()},author:function(){this.resetPagination(),this.fetchArticles()},tag:function(){this.resetPagination(),this.fetchArticles()},favorited:function(){this.resetPagination(),this.fetchArticles()}},mounted:function(){this.fetchArticles()},methods:{fetchArticles:function(){this.$store.dispatch(o.u,this.listConfig)},resetPagination:function(){this.listConfig.offset=0,this.currentPage=1}}}},tND7:function(t,e,r){"use strict";var i=r("sK4r"),a=r("qfZw"),n=r("XyMi"),s=r.i(n.a)(i.a,a.a,a.b,!1,null,null,null);e.a=s.exports},uc7E:function(t,e,r){"use strict";var i=r("XdTI");e.a={name:"RwvArticlePreview",props:{article:{type:Object,required:!0}},components:{RwvArticleMeta:i.a}}},y1eh:function(t,e,r){"use strict";r.d(e,"a",function(){return i}),r.d(e,"b",function(){return a});var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",[r("ul",{staticClass:"pagination"},t._l(t.pages,function(e){return r("li",{key:e,class:t.paginationClass(e),on:{click:function(r){r.preventDefault(),t.changePage(e)}}},[r("a",{staticClass:"page-link",attrs:{href:""}},[t._v(t._s(e))])])}))])},a=[]}});
//# sourceMappingURL=2.ded7f783e4af58d6e39e.js.map